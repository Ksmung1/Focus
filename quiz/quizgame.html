<!DOCTYPE html>
<html lang="en">

<head>
       <meta charset="UTF-8">
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <title>Game Map</title>
       <style>
              /* Add your CSS styling here */
              body {
                     margin: 0;
                     display: flex;
                     justify-content: center;
                     /* Set the minimum height of the viewport */
                     background-color: #f0f0f0;
                     overflow: hidden;
                     /* Hide vertical scrollbar */
              }

              .game-map {
                     display: grid;
                     grid-template-columns: repeat(5, 1fr);
                     /* 5 levels per row */
                     grid-gap: 10px;
                     align-items: flex-start;
                     /* Align from top to bottom */
                     position: relative;
              }

              .level-cell {
                     width: 40px;
                     height: 40px;
                     border-radius: 50%;
                     border: 2px solid #ccc;
                     text-align: center;
                     line-height: 40px;
                     font-size: 14px;
                     cursor: pointer;
                     /* No need for margin-right and margin-bottom */
              }

              .level-cell:first-child {
                     background-color: #66bb6a;
                     /* Level 1 is always unlocked */
              }

              .level-unlocked {
                     background-color: #66bb6a;
              }

              .container {
                     position: absolute;
                     width: 100%;
                     z-index: 1;
                     height: 100%;
                     display: flex;
                     flex-direction: column;
                     background-color: #f0f0f0;
                     align-items: center;
              }

              .hidden {
                     display: none;
              }

              #next-btn .hidden {
                     display: none;
              }
       </style>
</head>

<body>
       <div class="container hidden">

              <div class="quiz-starter">
                     <button class="startQuiz">Start Quiz</button>
              </div>
              <div class="app hidden">
                     <h1>Quiz</h1>
                     <div class="quiz">
                            <h2 id="question"></h2>
                            <div id="answer-buttons">
                                   <button class="btn"></button>
                                   <button class="btn"></button>
                                   <button class="btn"></button>
                                   <button class="btn"></button>
                            </div>
                            <button id="next-btn" class='not-hidden'>Next</button>
                            <button id='retry' class='hidden'>Retry</button>
                     </div>
              </div>
       </div>
       <div class="game-map">
              <a href="quizgame.html?section=level1">
                     <div class="level-cell level-unlocked">1</div>
              </a>
              <div class="level-cell">2</div>
              <div class="level-cell">3</div>
              <div class="level-cell">4</div>
              <div class="level-cell">5</div>
              <div class="level-cell">6</div>
              <div class="level-cell">7</div>
              <div class="level-cell">8</div>
              <div class="level-cell">9</div>
              <div class="level-cell">10</div>
              <div class="level-cell">11</div>
              <div class="level-cell">12</div>
       </div>




       <script>
              const contentDiv = document.querySelector('.container');
              const levelCells = document.querySelectorAll(".level-cell");
              const dotBridge = document.querySelector(".dot-bridge");
              let unlockedLevels = 1; // Initial unlocked level
              let score;

              document.addEventListener('DOMContentLoaded', () => {
                     const urlParams = new URLSearchParams(window.location.search);
                     const section = urlParams.get('section');

                     if (section === 'level1') {

                            contentDiv.classList.remove('hidden')

                            const questions = [
                                   {
                                          question: "What is the capital of France?",
                                          answers: [
                                                 { text: "Paris", correct: true },
                                                 { text: "London", correct: false },
                                                 { text: "Berlin", correct: false },
                                                 { text: "Madrid", correct: false }
                                          ]
                                   },
                                   {
                                          question: "Who wrote the play 'Romeo and Juliet'?",
                                          answers: [
                                                 { text: "William Shakespeare", correct: true },
                                                 { text: "Jane Austen", correct: false },
                                                 { text: "Charles Dickens", correct: false },
                                                 { text: "Mark Twain", correct: false }
                                          ]
                                   },
                                   {
                                          question: "Which planet is known as the 'Red Planet'?",
                                          answers: [
                                                 { text: "Mars", correct: true },
                                                 { text: "Venus", correct: false },
                                                 { text: "Jupiter", correct: false },
                                                 { text: "Saturn", correct: false }
                                          ]
                                   },
                                   {
                                          question: "What is the largest mammal on Earth?",
                                          answers: [
                                                 { text: "Blue Whale", correct: true },
                                                 { text: "Elephant", correct: false },
                                                 { text: "Giraffe", correct: false },
                                                 { text: "Hippopotamus", correct: false }
                                          ]
                                   },
                                   {
                                          question: "Which scientist developed the theory of relativity?",
                                          answers: [
                                                 { text: "Albert Einstein", correct: true },
                                                 { text: "Isaac Newton", correct: false },
                                                 { text: "Galileo Galilei", correct: false },
                                                 { text: "Nikola Tesla", correct: false }
                                          ]
                                   },
                                   {
                                          question: "In which year did World War II end?",
                                          answers: [
                                                 { text: "1945", correct: true },
                                                 { text: "1939", correct: false },
                                                 { text: "1918", correct: false },
                                                 { text: "1950", correct: false }
                                          ]
                                   },
                                   {
                                          question: "What is the chemical symbol for gold?",
                                          answers: [
                                                 { text: "Au", correct: true },
                                                 { text: "Ag", correct: false },
                                                 { text: "Cu", correct: false },
                                                 { text: "Fe", correct: false }
                                          ]
                                   },
                                   {
                                          question: "Who painted the Mona Lisa?",
                                          answers: [
                                                 { text: "Leonardo da Vinci", correct: true },
                                                 { text: "Pablo Picasso", correct: false },
                                                 { text: "Vincent van Gogh", correct: false },
                                                 { text: "Michelangelo", correct: false }
                                          ]
                                   },
                                   {
                                          question: "What gas do plants primarily use for photosynthesis?",
                                          answers: [
                                                 { text: "Carbon Dioxide", correct: true },
                                                 { text: "Oxygen", correct: false },
                                                 { text: "Nitrogen", correct: false },
                                                 { text: "Hydrogen", correct: false }
                                          ]
                                   },
                                   {
                                          question: "What is the largest organ in the human body?",
                                          answers: [
                                                 { text: "Skin", correct: true },
                                                 { text: "Heart", correct: false },
                                                 { text: "Liver", correct: false },
                                                 { text: "Brain", correct: false }
                                          ]
                                   },
                                   {
                                          question: "Which planet is known as the 'Morning Star' or 'Evening Star'?",
                                          answers: [
                                                 { text: "Venus", correct: true },
                                                 { text: "Mars", correct: false },
                                                 { text: "Jupiter", correct: false },
                                                 { text: "Mercury", correct: false }
                                          ]
                                   },
                                   {
                                          question: "What is the largest ocean on Earth?",
                                          answers: [
                                                 { text: "Pacific Ocean", correct: true },
                                                 { text: "Atlantic Ocean", correct: false },
                                                 { text: "Indian Ocean", correct: false },
                                                 { text: "Arctic Ocean", correct: false }
                                          ]
                                   },
                                   {
                                          question: "What is the process by which plants make their own food?",
                                          answers: [
                                                 { text: "Photosynthesis", correct: true },
                                                 { text: "Respiration", correct: false },
                                                 { text: "Fermentation", correct: false },
                                                 { text: "Transpiration", correct: false }
                                          ]
                                   },
                                   {
                                          question: "Who is known as the 'Father of Modern Physics'?",
                                          answers: [
                                                 { text: "Albert Einstein", correct: true },
                                                 { text: "Isaac Newton", correct: false },
                                                 { text: "Galileo Galilei", correct: false },
                                                 { text: "Niels Bohr", correct: false }
                                          ]
                                   },
                                   {
                                          question: "What is the chemical symbol for iron?",
                                          answers: [
                                                 { text: "Fe", correct: true },
                                                 { text: "Au", correct: false },
                                                 { text: "Ag", correct: false },
                                                 { text: "Cu", correct: false }
                                          ]
                                   },
                                   {
                                          question: "Which famous scientist formulated the laws of motion and universal gravitation?",
                                          answers: [
                                                 { text: "Isaac Newton", correct: true },
                                                 { text: "Albert Einstein", correct: false },
                                                 { text: "Galileo Galilei", correct: false },
                                                 { text: "Nikola Tesla", correct: false }
                                          ]
                                   },
                                   {
                                          question: "What is the largest desert in the world?",
                                          answers: [
                                                 { text: "Antarctica", correct: false },
                                                 { text: "Sahara Desert", correct: true },
                                                 { text: "Arabian Desert", correct: false },
                                                 { text: "Gobi Desert", correct: false }
                                          ]
                                   },
                                   {
                                          question: "In which country is the Great Barrier Reef located?",
                                          answers: [
                                                 { text: "Australia", correct: true },
                                                 { text: "USA", correct: false },
                                                 { text: "Brazil", correct: false },
                                                 { text: "Japan", correct: false }
                                          ]
                                   },
                                   {
                                          question: "Who painted the 'Starry Night'?",
                                          answers: [
                                                 { text: "Vincent van Gogh", correct: true },
                                                 { text: "Leonardo da Vinci", correct: false },
                                                 { text: "Pablo Picasso", correct: false },
                                                 { text: "Michelangelo", correct: false }
                                          ]
                                   },
                                   {
                                          question: "What gas do plants release during photosynthesis?",
                                          answers: [
                                                 { text: "Oxygen", correct: true },
                                                 { text: "Carbon Dioxide", correct: false },
                                                 { text: "Nitrogen", correct: false },
                                                 { text: "Hydrogen", correct: false }
                                          ]
                                   },

                            ]

                            // Ensure you have a total of 20 questions in the 'questions' array


                            let score;

                            const restartButton = document.querySelector('#retry')
                            const questionElement = document.getElementById('question');
                            const answerButtons = document.getElementById('answer-buttons');
                            const nextButton = document.getElementById('next-btn');
                            const quizapp = document.querySelector('.app');
                            const quizStarter = document.querySelector('.quiz-starter')


                            let currentQuestionIndex = 0;
                            score = 0;

                            function startQuiz() {
                                   currentQuestionIndex = 0;
                                   score = 0;
                                   nextButton.innerHTML = "Next";
                                   showQuestion();
                            }

                            function showQuestion() {
                                   resetState();
                                   let currentQuestion = questions[currentQuestionIndex];
                                   let questionNo = currentQuestionIndex + 1;
                                   questionElement.innerHTML = questionNo + ". " + currentQuestion.question;

                                   currentQuestion.answers.forEach(answer => {
                                          const button = document.createElement('button');
                                          button.innerHTML = answer.text;
                                          button.classList.add('btn');
                                          answerButtons.appendChild(button);
                                          if (answer.correct) {
                                                 button.dataset.correct = answer.correct;
                                          }
                                          button.addEventListener('click', selectAnswer);
                                   });
                            }

                            function resetState() {
                                   nextButton.style.display = 'none';
                                   while (answerButtons.firstChild) {
                                          answerButtons.removeChild(answerButtons.firstChild);
                                   }
                            }

                            function selectAnswer(e) {
                                   const selectedBtn = e.target;
                                   const isCorrect = selectedBtn.dataset.correct === 'true';

                                   Array.from(answerButtons.children).forEach(button => {
                                          button.disabled = true; // Disable all buttons after an answer is selected
                                          if (button.dataset.correct === 'true') {
                                                 button.classList.add('correct');
                                          } else if (button !== selectedBtn) {
                                                 button.classList.add('incorrect');
                                          }
                                   });

                                   if (isCorrect) {
                                          selectedBtn.classList.add('correct');
                                          score++;
                                   } else {
                                          selectedBtn.classList.add('incorrect');
                                   }

                                   nextButton.style.display = "block";
                            }


                            function showScore() {
                                   resetState();
                                   questionElement.innerHTML = `You scored ${score} out of ${questions.length}!`;
                                   nextButton.innerHTML = 'Next Level';

                                   // Create a new <p> element for nextPara
                                   const nextPara = document.createElement('p');
                                   console.log(score);

                                   if (score > 10) {
                                          nextPara.textContent = 'Very Good!';

                                   } else if (score < 10) {
                                          nextPara.textContent = 'Better luck next time.';
                                          restartButton.classList.toggle('hidden')
                                          nextButton.classList.toggle('hidden')
                                   }
                                   else if (score == 10) {
                                          nextPara.textContent = 'Keep it up';
                                   }

                                   // Append the nextPara element to the document
                                   quizapp.appendChild(nextPara);

                                   nextButton.style.display = 'block';


                            }

                            restartButton.addEventListener('click', startQuiz)


                            function handleNextButton() {
                                   currentQuestionIndex++;
                                   if (currentQuestionIndex < questions.length) {
                                          showQuestion();
                                   } else {
                                          showScore();
                                   }
                            }

                            function endQuiz() {


                                   console.log(score)
                                   localStorage.setItem('quizScore', score);
                                   localStorage.setItem('lastSubmissionTimestamp', currentTimestamp);
                                   unlockedLevels++
                                   window.location.href = 'quizgame.html'

                            }

                            nextButton.addEventListener('click', () => {

                                   if (nextButton.innerHTML === 'Next Level') {
                                          window.location.href = 'quizgame.html'

                                   } else {
                                          handleNextButton();
                                   }

                            }); quizStarter.addEventListener('click', () => {
                                   quizapp.classList.remove('hidden');
                                   quizStarter.classList.add('hidden');
                                   console.log('clicked')
                                   startQuiz();
                            });

                     }
                     else if (section === 'level2') {
                            contentDiv.classList.remove('hidden')

                            const questions = [
                                   {
                                          question: "What is the capital of France?",
                                          answers: [
                                                 { text: "Paris", correct: true },
                                                 { text: "London", correct: false },
                                                 { text: "Berlin", correct: false },
                                                 { text: "Madrid", correct: false }
                                          ]
                                   },
                                   {
                                          question: "Who wrote the play 'Romeo and Juliet'?",
                                          answers: [
                                                 { text: "William Shakespeare", correct: true },
                                                 { text: "Jane Austen", correct: false },
                                                 { text: "Charles Dickens", correct: false },
                                                 { text: "Mark Twain", correct: false }
                                          ]
                                   },
                                   {
                                          question: "Which planet is known as the 'Red Planet'?",
                                          answers: [
                                                 { text: "Mars", correct: true },
                                                 { text: "Venus", correct: false },
                                                 { text: "Jupiter", correct: false },
                                                 { text: "Saturn", correct: false }
                                          ]
                                   },
                                   {
                                          question: "What is the largest mammal on Earth?",
                                          answers: [
                                                 { text: "Blue Whale", correct: true },
                                                 { text: "Elephant", correct: false },
                                                 { text: "Giraffe", correct: false },
                                                 { text: "Hippopotamus", correct: false }
                                          ]
                                   },
                                   {
                                          question: "Which scientist developed the theory of relativity?",
                                          answers: [
                                                 { text: "Albert Einstein", correct: true },
                                                 { text: "Isaac Newton", correct: false },
                                                 { text: "Galileo Galilei", correct: false },
                                                 { text: "Nikola Tesla", correct: false }
                                          ]
                                   },
                                   {
                                          question: "In which year did World War II end?",
                                          answers: [
                                                 { text: "1945", correct: true },
                                                 { text: "1939", correct: false },
                                                 { text: "1918", correct: false },
                                                 { text: "1950", correct: false }
                                          ]
                                   },
                                   {
                                          question: "What is the chemical symbol for gold?",
                                          answers: [
                                                 { text: "Au", correct: true },
                                                 { text: "Ag", correct: false },
                                                 { text: "Cu", correct: false },
                                                 { text: "Fe", correct: false }
                                          ]
                                   },
                                   {
                                          question: "Who painted the Mona Lisa?",
                                          answers: [
                                                 { text: "Leonardo da Vinci", correct: true },
                                                 { text: "Pablo Picasso", correct: false },
                                                 { text: "Vincent van Gogh", correct: false },
                                                 { text: "Michelangelo", correct: false }
                                          ]
                                   },
                                   {
                                          question: "What gas do plants primarily use for photosynthesis?",
                                          answers: [
                                                 { text: "Carbon Dioxide", correct: true },
                                                 { text: "Oxygen", correct: false },
                                                 { text: "Nitrogen", correct: false },
                                                 { text: "Hydrogen", correct: false }
                                          ]
                                   },
                                   {
                                          question: "What is the largest organ in the human body?",
                                          answers: [
                                                 { text: "Skin", correct: true },
                                                 { text: "Heart", correct: false },
                                                 { text: "Liver", correct: false },
                                                 { text: "Brain", correct: false }
                                          ]
                                   },
                                   {
                                          question: "Which planet is known as the 'Morning Star' or 'Evening Star'?",
                                          answers: [
                                                 { text: "Venus", correct: true },
                                                 { text: "Mars", correct: false },
                                                 { text: "Jupiter", correct: false },
                                                 { text: "Mercury", correct: false }
                                          ]
                                   },
                                   {
                                          question: "What is the largest ocean on Earth?",
                                          answers: [
                                                 { text: "Pacific Ocean", correct: true },
                                                 { text: "Atlantic Ocean", correct: false },
                                                 { text: "Indian Ocean", correct: false },
                                                 { text: "Arctic Ocean", correct: false }
                                          ]
                                   },
                                   {
                                          question: "What is the process by which plants make their own food?",
                                          answers: [
                                                 { text: "Photosynthesis", correct: true },
                                                 { text: "Respiration", correct: false },
                                                 { text: "Fermentation", correct: false },
                                                 { text: "Transpiration", correct: false }
                                          ]
                                   },
                                   {
                                          question: "Who is known as the 'Father of Modern Physics'?",
                                          answers: [
                                                 { text: "Albert Einstein", correct: true },
                                                 { text: "Isaac Newton", correct: false },
                                                 { text: "Galileo Galilei", correct: false },
                                                 { text: "Niels Bohr", correct: false }
                                          ]
                                   },
                                   {
                                          question: "What is the chemical symbol for iron?",
                                          answers: [
                                                 { text: "Fe", correct: true },
                                                 { text: "Au", correct: false },
                                                 { text: "Ag", correct: false },
                                                 { text: "Cu", correct: false }
                                          ]
                                   },
                                   {
                                          question: "Which famous scientist formulated the laws of motion and universal gravitation?",
                                          answers: [
                                                 { text: "Isaac Newton", correct: true },
                                                 { text: "Albert Einstein", correct: false },
                                                 { text: "Galileo Galilei", correct: false },
                                                 { text: "Nikola Tesla", correct: false }
                                          ]
                                   },
                                   {
                                          question: "What is the largest desert in the world?",
                                          answers: [
                                                 { text: "Antarctica", correct: false },
                                                 { text: "Sahara Desert", correct: true },
                                                 { text: "Arabian Desert", correct: false },
                                                 { text: "Gobi Desert", correct: false }
                                          ]
                                   },
                                   {
                                          question: "In which country is the Great Barrier Reef located?",
                                          answers: [
                                                 { text: "Australia", correct: true },
                                                 { text: "USA", correct: false },
                                                 { text: "Brazil", correct: false },
                                                 { text: "Japan", correct: false }
                                          ]
                                   },
                                   {
                                          question: "Who painted the 'Starry Night'?",
                                          answers: [
                                                 { text: "Vincent van Gogh", correct: true },
                                                 { text: "Leonardo da Vinci", correct: false },
                                                 { text: "Pablo Picasso", correct: false },
                                                 { text: "Michelangelo", correct: false }
                                          ]
                                   },
                                   {
                                          question: "What gas do plants release during photosynthesis?",
                                          answers: [
                                                 { text: "Oxygen", correct: true },
                                                 { text: "Carbon Dioxide", correct: false },
                                                 { text: "Nitrogen", correct: false },
                                                 { text: "Hydrogen", correct: false }
                                          ]
                                   },

                            ]

                            // Ensure you have a total of 20 questions in the 'questions' array


                            let score;

                            const restartButton = document.querySelector('#retry')
                            const questionElement = document.getElementById('question');
                            const answerButtons = document.getElementById('answer-buttons');
                            const nextButton = document.getElementById('next-btn');
                            const quizapp = document.querySelector('.app');
                            const quizStarter = document.querySelector('.quiz-starter')


                            let currentQuestionIndex = 0;
                            score = 0;

                            function startQuiz() {
                                   currentQuestionIndex = 0;
                                   score = 0;
                                   nextButton.innerHTML = "Next";
                                   showQuestion();
                            }

                            function showQuestion() {
                                   resetState();
                                   let currentQuestion = questions[currentQuestionIndex];
                                   let questionNo = currentQuestionIndex + 1;
                                   questionElement.innerHTML = questionNo + ". " + currentQuestion.question;

                                   currentQuestion.answers.forEach(answer => {
                                          const button = document.createElement('button');
                                          button.innerHTML = answer.text;
                                          button.classList.add('btn');
                                          answerButtons.appendChild(button);
                                          if (answer.correct) {
                                                 button.dataset.correct = answer.correct;
                                          }
                                          button.addEventListener('click', selectAnswer);
                                   });
                            }

                            function resetState() {
                                   nextButton.style.display = 'none';
                                   while (answerButtons.firstChild) {
                                          answerButtons.removeChild(answerButtons.firstChild);
                                   }
                            }

                            function selectAnswer(e) {
                                   const selectedBtn = e.target;
                                   const isCorrect = selectedBtn.dataset.correct === 'true';

                                   Array.from(answerButtons.children).forEach(button => {
                                          button.disabled = true; // Disable all buttons after an answer is selected
                                          if (button.dataset.correct === 'true') {
                                                 button.classList.add('correct');
                                          } else if (button !== selectedBtn) {
                                                 button.classList.add('incorrect');
                                          }
                                   });

                                   if (isCorrect) {
                                          selectedBtn.classList.add('correct');
                                          score++;
                                   } else {
                                          selectedBtn.classList.add('incorrect');
                                   }

                                   nextButton.style.display = "block";
                            }


                            function showScore() {
                                   resetState();
                                   questionElement.innerHTML = `You scored ${score} out of ${questions.length}!`;
                                   nextButton.innerHTML = 'Next Level';

                                   // Create a new <p> element for nextPara
                                   const nextPara = document.createElement('p');
                                   console.log(score);

                                   if (score > 10) {
                                          nextPara.textContent = 'Very Good!';

                                   } else if (score < 10) {
                                          nextPara.textContent = 'Better luck next time.';
                                          restartButton.classList.toggle('hidden')
                                          nextButton.classList.toggle('hidden')
                                   }
                                   else if (score == 10) {
                                          nextPara.textContent = 'Keep it up';
                                   }

                                   // Append the nextPara element to the document
                                   quizapp.appendChild(nextPara);

                                   nextButton.style.display = 'block';


                            }

                            restartButton.addEventListener('click', () => {
                                   restartButton.classList.add('hidden')
                                   startQuiz;

                            })


                            function handleNextButton() {
                                   currentQuestionIndex++;
                                   if (currentQuestionIndex < questions.length) {
                                          showQuestion();
                                   } else {
                                          showScore();
                                   }
                            }

                            function endQuiz() {


                                   console.log(score)
                                   localStorage.setItem('quizScore', score);
                                   localStorage.setItem('lastSubmissionTimestamp', currentTimestamp);
                                   unlockedLevels++
                                   window.location.href = 'quizgame.html'

                            }

                            nextButton.addEventListener('click', () => {
                                   unlockedLevels++
                                   if (nextButton.innerHTML === 'Next Level') {
                                          window.location.href = 'quizgame.html'
                                   } else {
                                          handleNextButton();
                                   }

                            }); quizStarter.addEventListener('click', () => {
                                   quizapp.classList.remove('hidden');
                                   quizStarter.classList.add('hidden');
                                   console.log('clicked')
                                   startQuiz();
                            });


                     }
              });

              // Scroll to the bottom of the page after content is loaded
              window.addEventListener('DOMContentLoaded', (event) => {
                     window.scrollTo(0, document.body.scrollHeight);
              });
       </script>

</body>

</html>